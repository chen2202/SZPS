<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >

<head>
	<th:block th:include="include :: header('新增设备')" />
	<th:block th:include="include :: cropbox-css" />
	<th:block th:include="include :: select2-css" />
	<th:block th:include="include :: bootstrap-fileinput-css" />
</head>
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
    }
    input[type="number"]{
        -moz-appearance: textfield;
    }
</style>
<body class="gray-bg">
	<div class="wrapper wrapper-content animated ">
        <form id="form"  class="form-horizontal m">
        <input name="areaid" type="hidden" id="treeIdArea"/>
        <div class="container ">
					 <div class="row">
						 <div class="col-sm-6">
								<div class="form-group">
									<label class="col-sm-3 control-label">所属区：</label>
									<div class="col-sm-8">
											<input name="areaname" onclick="selectAreaTree()" id="treeNameArea" class="form-control" type="text" >
									</div>
								</div>
							</div>
						<div class="col-sm-6">
							   <div class="form-group">
								   <label class="col-sm-3 control-label">截止时间：</label>
								   <div class="col-sm-8">
									   <input id="deadline" name="deadline" class="time-input form-control " data-type="date" data-format="yyyy-MM-dd"/>
								   </div>
							   </div>
						</div>
						
					</div>
					<div class="row">
						<div class="col-sm-6">
							   <div class="form-group">
								   <label class="col-sm-3 control-label">专营单位招采方式：</label>
								   <div class="col-sm-8">
									   <input name="recruitmentmethod" class="form-control" type="text"  >
								   </div>
							   </div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label class="col-sm-3 control-label">专营协议签订时间：</label>
								<div class="col-sm-8">
										<input id="signingdate" name="signingdate" class="time-input form-control " data-type="date" data-format="yyyy-MM-dd"/>
								</div>
							</div>
						</div>
					</div>
			
					 <div class="row">
						<div class="col-sm-6">
							   <div class="form-group">
								   <label class="col-sm-3 control-label">首次进场（检测、测绘、清疏、修复）计划完成时间：</label>
								   <div class="col-sm-8">
										<input id="planfinishdate" name="planfinishdate" class="time-input form-control " data-type="date" data-format="yyyy-MM-dd"/>
								</div>
							   </div>
						</div>
						<!-- <div class="col-sm-6">
							<div class="form-group">
								<label class="col-sm-3 control-label">规格型号：</label>
								<div class="col-sm-8">
										<input name="dmodel" class="form-control" type="text" >
								</div>
							</div>
						</div> -->
					</div>
			 <table class="table table-bordered ">
			  <tr>
			    <td width="8%">小区类型</td>
			    <td>完成摸排数量（个）</td>
			    <td>委托管理协议签（份）</td>
			    <td>实际接收管理小区数（个）</td>
			    <td>小区接收率（%）</td>
			    <td>接收管网长度（km）</td>
			    <td>完成检测长度（km）</td>
			    <td>完成测绘长度（km）</td>
			    <td>完成清淤量（m3）</td>
			    <td>完成修复改造量（km）</td>
			  </tr>
			  <tr>
			    <td>住宅小区</td>
			    <td><input name="rq_completed_num" 	id="rq_completed_num"	 class="form-control"  type="number"/></td>
			    <td><input name="rq_entrust" 	id="rq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="rq_actual" 	id="rq_actual"  class="form-control"  type="number"/></td>
			    <td><input name="rq_reception_rate" 	id="rq_reception_rate"  class="form-control"  type="number"/></td>
			    <td><input name="rq_network_length" 	id="rq_network_length"  class="form-control"  type="number"/></td>
			    <td><input name="rq_detection_length" 	id="rq_detection_length"  class="form-control"  type="number"/></td>
			    <td><input name="rq_mapping_length" 	id="rq_mapping_length"  class="form-control"  type="number"/></td>
			    <td><input name="rq_dredging_capacity" 	id="rq_dredging_capacity"  class="form-control"  type="number"/></td>
			    <td><input name=rq_renovation 	id="rq_renovation"  class="form-control"  type="number"/></td>
			  </tr>
			  <tr>
			    <td>工业小区</td>
			    <td><input name="iq_completed_num" id="iq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_entrust" id="iq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="iq_actual" 	id="iq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_reception_rate" 	id="iq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_network_length" 	id="iq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_detection_length" 	id="iq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_mapping_length" 	id="iq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_dredging_capacity" 	id="iq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="iq_renovation" 	id="iq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			   <tr>
			    <td>商业小区</td>
			    <td><input name="eq_completed_num" id="eq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_entrust" id="eq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="eq_actual" 	id="eq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_reception_rate" 	id="eq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_network_length" 	id="eq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_detection_length" 	id="eq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_mapping_length" 	id="eq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_dredging_capacity" 	id="eq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="eq_renovation" 	id="eq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			   <tr>
			    <td>商住两用</td>
			    <td><input name="erq_completed_num" id="erq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_entrust" id="erq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="erq_actual" 	id="erq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_reception_rate" 	id="erq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_network_length" 	id="erq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_detection_length" 	id="erq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_mapping_length" 	id="erq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_dredging_capacity" 	id="erq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="erq_renovation" 	id="erq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			   <tr>
			    <td>公共机构</td>
			    <td><input name="pq_completed_num" id="pq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_entrust" id="pq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="pq_actual" 	id="pq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_reception_rate" 	id="pq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_network_length" 	id="pq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_detection_length" 	id="pq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_mapping_length" 	id="pq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_dredging_capacity" 	id="pq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="pq_renovation" 	id="pq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			   <tr>
			    <td>城中村</td>
			    <td><input name="vq_completed_num" id="vq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_entrust" id="vq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="vq_actual" 	id="vq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_reception_rate" 	id="vq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_network_length" 	id="vq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_detection_length" 	id="vq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_mapping_length" 	id="vq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_dredging_capacity" 	id="vq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="vq_renovation" 	id="vq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			   <tr>
			    <td>总计</td>
			    <td><input name="tq_completed_num" id="tq_completed_num" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_entrust" id="tq_entrust"	 class="form-control"  type="number"/></td>
			    <td><input name="tq_actual" 	id="tq_actual" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_reception_rate" 	id="tq_reception_rate" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_network_length" 	id="tq_network_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_detection_length" 	id="tq_detection_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_mapping_length" 	id="tq_mapping_length" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_dredging_capacity" 	id="tq_dredging_capacity" 	 class="form-control"  type="number"/></td>
			    <td><input name="tq_renovation" 	id="tq_renovation" 	 class="form-control"  type="number"/></td>
			  </tr>
			</table>
			</div>
				
		</div>
	</form>
    </div>

	<th:block th:include="include :: footer" />
	<th:block th:include="include :: select2-js" />
    <th:block th:include="include :: bootstrap-fileinput-css" />
    <th:block th:include="include :: bootstrap-fileinput-js" />
	<script>
	    var prefix = ctx + "op/report/psprogress";
        $("#form").validate({
        	onkeyup: false,
        	rules:{
        		
        	},
        	messages: {
                "loginName": {
                    remote: "用户已经存在"
                },
        		"email": {
                    remote: "Email已经存在"
                },
        		"phonenumber":{
                	remote: "手机号码已经存在"
        		}
            },
            focusCleanup: true
        });
        

        
		
		function submitHandler() {
	        if ($.validate.form()) {
	        	var data = $("#form").serializeArray();
	        	$.operate.save(prefix + "/add", data);
	        }
	    }
		 // 上传文件
        function sendFile(file, obj) {
            var data = new FormData();
            data.append("file", file);
            $.ajax({
                type: "POST",
                url: ctx + "common/upload",
                data: data,
                cache: false,
                contentType: false,
                processData: false,
                dataType: 'json',
                success: function(result) {
                    if (result.code == web_status.SUCCESS) {
                    } else {
                        $.modal.alertError(result.msg);
                    }
                },
                error: function(error) {
                    $.modal.alertWarning("上传失败。");
                }
            });
        }
		 
        function selectAreaTree() {
        	
        	var treeId = $("#treeIdArea").val();
        	var deptId = $.common.isEmpty(treeId) ? "3" : $("#treeIdArea").val();
        	var url = ctx + "system/area/selectAreaTree/" + deptId;
			var options = {
				title: '选择区域',
				width: "380",
				url: url,
				callBack: doSubmitArea
			};
			$.modal.openOptions(options);
		}
        function doSubmitArea(index, layero){
			var tree = layero.find("iframe")[0].contentWindow.$._tree;
				var body = layer.getChildFrame('body', index);
    			$("#treeIdArea").val(body.find('#treeIdArea').val());
    			$("#treeNameArea").val(body.find('#treeNameArea').val());
    			layer.close(index);
		}
        
        /*用户管理-新增-选择部门树*/
        function selectDeptTree() {
        	
        	var treeId = $("#treeId").val();
        	var deptId = $.common.isEmpty(treeId) ? "100" : $("#treeId").val();
        	var url = ctx + "system/dept/selectDeptTree/" + deptId;
			var options = {
				title: '选择部门',
				width: "380",
				url: url,
				callBack: doSubmitDept
			};
			$.modal.openOptions(options);
		}
        function doSubmitDept(index, layero){
			var tree = layero.find("iframe")[0].contentWindow.$._tree;
				var body = layer.getChildFrame('body', index);
    			$("#treeId").val(body.find('#treeId').val());
    			$("#treeName").val(body.find('#treeName').val());
    			layer.close(index);
		}
        
		
    </script>
</body>
</html>
